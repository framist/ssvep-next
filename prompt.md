行动纲要：重构 QuickSSVEP 为现代可视化范式构建工具

最终目标：创建一个单页面应用（SPA）

## 🎯 当前项目状态总结 (2025-07-01)

### ✅ 已完成的核心功能：

1.  **完整的拖拽式设计界面**：
   - 画布区域 (`Canvas.tsx`)
   - 工具箱 (`Toolbox.tsx`) 
   - 属性面板 (`PropertiesPanel.tsx`)
   - 刺激方块组件 (`StimulusBox.tsx`)

2.  **高精度刺激渲染引擎**：
    -   基于 `requestAnimationFrame` 的精确时序控制
    -   与 quick-ssvep 相同的直接频率测量算法
    -   瞬时频率和滑动窗口平均频率计算
    -   动态帧率监控
    -   实时状态追踪和频率反馈

3.  **状态管理和数据持久化**：
    -   Zustand 状态管理 (`canvasStore.ts`)
    -   本地存储和文件导入/导出
    -   URL 参数分享功能

4.  **全屏运行模式**：
   - 全屏刺激模式 (`FullscreenMode.tsx`)
   - 自动停止计时器
   - 实验持续时间控制

5.  **项目管理**：
   - 项目保存/加载 (`projectManager.ts`)
   - 一键分享链接生成

6.  **波形刺激系统**：
   - 支持多种波形类型：方波、正弦波
   - 正弦波采用采样算法实现连续亮度变化
   - 全局波形类型切换功能
   - 保持原有高精度频率测量算法兼容


## 🔧 最新更新记录 (2025-07-02)

### ✅ 已完成：波形类型扩展功能

**功能描述**：
- 新增全局波形类型选择器，支持方波和正弦波两种刺激模式
- 正弦波使用连续亮度变化，提供更平滑的视觉刺激体验


## 🔄 待优化的功能：

1. **刺激扩展**：
   - ✅ 全局设置添加选项选择波形类型，支持正弦（已使用采样算法实现）波、方波（已支持）等不同波形的闪烁。

2. **用户体验优化**：
   - 画布默认为全屏大小，增加缩放和平移功能
   - 解决 从工具箱拖拽新刺激方块到画布 位置不准确的问题
   - 新刺激方块的默认属性设置
   - 工具箱增加功能按钮
     - 一键清空
     - 一键添加矩阵刺激方块（n*m）
   - 增加更多 loadDemoProject
     - 预设示例项目：键盘模拟
     - 预设示例项目：游戏手柄模拟
   - i18n 支持
     - 语言切换